{% extends 'events/base.html' %}

{% block content %}

{% if user.is_authenticated %}

    <h1>Admin Event Dashboard</h1>
    </br></br>
    <form action="" method=POST>
        {% csrf_token %}

        <div class="card">
            <div class="card-header">
              <strong>Event - Venue - User Counts</strong>
            </div>
            <div class="card-body">
              <p class="card-text">Event Count: {{ event_count }}</p>
              <p class="card-text">Venue Count: {{ venue_count}}</p>
              <p class="card-text">User Count: {{ user_count }}</p>
            </div>
          </div>

    <br/><br/>
    <h1>Event Approvals:</h1>
    <table class="table table-striped table-hove table-bordered">
        <thead>
            <tr>
                <th scope="col">Event Name</th>
                <th scope="col">Approved</th>
            </tr>
        </thead>
        <tbody>
            {% for event in event_list %}
            <tr>
                <td>{{ event }}<br/></td>
                <td>
                    {% if event.approved %}
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" checked="checked" value={{event.id}} name="boxes">
                        </div>
                    {% else %}
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value={{event.id}} name="boxes">
                        </div>


                    {% endif %}
                </td>
            </tr>
    
        {% endfor %}
        </tbody>
    </table>
<br/>
<button class='btn btn-secondary' type="submit">Update Approval</button>

{% endif %}    
{% endblock %}